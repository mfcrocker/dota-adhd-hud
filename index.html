<html>
    <head>
        <link rel="stylesheet" type="text/css" href="index.css">
    </head>
    <body>
        <div class="outer-wrapper">
            <div class="minimap">
                <video id="minimap" height="1440px" width="2560px" autoplay></video>
            </div>

            <div class="inner-wrapper">
                <div class="clock">
                    <video id="clock" height="1440px" width="2560px" autoplay></video>
                </div>
                
                <div class="skills">
                    <video id="skills" height="1440px" width="2560px" autoplay></video>
                </div>
            </div>
    
            <div class="items">
                <video id="items" height="1440px" width="2560px" autoplay></video>
            </div>
        </div>

        <!-- Largely lifted and adapted from the Mozilla tutorial at https://developer.mozilla.org/en-US/docs/Web/API/Screen_Capture_API/Using_Screen_Capture -->
        <script>
            const minimapElem = document.getElementById("minimap");
            const skillsElem = document.getElementById("skills");
            const itemsElem = document.getElementById("items");
            const clockElem = document.getElementById("clock");

            // Options for getDisplayMedia()

            var displayMediaOptions = {
                video: {
                    cursor: "always"
                },
                audio: false
            };

            async function startCapture() {
                try {
                    let capture = await navigator.mediaDevices.getDisplayMedia(displayMediaOptions);
                    minimapElem.srcObject = capture;
                    skillsElem.srcObject = capture;
                    itemsElem.srcObject = capture;
                    clockElem.srcObject = capture;
                } catch(err) {
                    console.error("Error: " + err);
                }
            }

            window.onload = startCapture()
        </script>
    </body>
</html>